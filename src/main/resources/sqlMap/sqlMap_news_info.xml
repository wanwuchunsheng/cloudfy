<?xml version="1.0" encoding="UTF-8" ?>
<sqlMap namespace="newsInfo">
    
   <!--  信息列表  -->
   <sql id="queryNewsInfoListPage">
       <![CDATA[
          select * from t_news_info where 1=1
          <#if isPass?exists && isPass!=""> AND is_pass= :isPass </#if>
          order by update_time desc 
          
       ]]>
   </sql>
   
   
   <!--  删除  -->
   <sql id="deleteNewsInfoById">
       <![CDATA[
          delete from  t_news_info where id = :id
       ]]>
   </sql>
   
   <!--  修改  查询 -->
   <sql id="queryNewsInfoById">
       <![CDATA[
          select * from t_news_info where id= :id
       ]]>
   </sql>
   
    <!--  修改 保存  -->
   <sql id="updateNewsInfoById">
       <![CDATA[
          update t_news_info set 
	          <#if typeName?exists && typeName!="">  type_name= :typeName, </#if>
	          <#if title?exists && title!="">  title= :title ,</#if>
	          <#if content?exists && content!="">  content= :content, </#if>
	          <#if isPass?exists && isPass!="">  is_pass= :isPass, </#if>
	          <#if updateUser?exists && updateUser!="">  update_user= :updateUser, </#if>
	          <#if updateUserId?exists && updateUserId!="">  update_user_id= :updateUserId, </#if>
              update_time=now()
          where  id= :id 
       ]]>
   </sql>
   
    <!--  更新阅读量，收藏量  -->
   <sql id="updateNewsInfoByNumber">
       <![CDATA[
          update t_news_info set 
          <#if readNumber?exists && readNumber!="">  read_number= read_number+1  </#if>
          <#if scNumber?exists && scNumber!="">  sc_number= sc_number+1  </#if>
          <#if fxNumber?exists && fxNumber!="">  fx_number= fx_number+1  </#if>
          
          where  id= :id 
       ]]>
   </sql>
    
</sqlMap>



